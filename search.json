[{"path":"/LICENSE.html","id":null,"dir":"","previous_headings":"","what":"MIT License","title":"MIT License","text":"Copyright (c) 2024 Valentine Gilbart Permission hereby granted, free charge, person obtaining copy software associated documentation files (“Software”), deal Software without restriction, including without limitation rights use, copy, modify, merge, publish, distribute, sublicense, /sell copies Software, permit persons Software furnished , subject following conditions: copyright notice permission notice shall included copies substantial portions Software. SOFTWARE PROVIDED “”, WITHOUT WARRANTY KIND, EXPRESS IMPLIED, INCLUDING LIMITED WARRANTIES MERCHANTABILITY, FITNESS PARTICULAR PURPOSE NONINFRINGEMENT. EVENT SHALL AUTHORS COPYRIGHT HOLDERS LIABLE CLAIM, DAMAGES LIABILITY, WHETHER ACTION CONTRACT, TORT OTHERWISE, ARISING , CONNECTION SOFTWARE USE DEALINGS SOFTWARE.","code":""},{"path":"/articles/database.html","id":"personalized-studies-file","dir":"Articles","previous_headings":"","what":"Personalized studies file","title":"Database","text":"default, app run small subset pbmc3k dataset. visualize datasets interest, need available within folder TileDB-SOMA format (see TileDB-SOMA). txt file summarizing available datasets created, file given input run_app(). txt file following format: row available dataset, separators tabs. can automatically generated update_summary() (see Updating summary).","code":"title    output    rds    description    doi    date    nsamples    nfeatures    ncells Study 1    /path/to/tiledb    path/to/rds    Some description    Some doi    DD/MM/YYYY    number_of_samples    number_of_features    number_of_cells"},{"path":"/articles/database.html","id":"structure-of-the-database","dir":"Articles","previous_headings":"","what":"Structure of the database","title":"Database","text":"folder (e.g. named db/), dataset sub-folder named DATASET_NAME/ (replace DATASET_NAME name dataset). Inside dataset folder, : tiledb/ folder containing various folders files corresponding tiledb database (see sections TileDB-SOMA Creating tiledb) object.rds file containing Seurat object, markers comparison tables user able directly download app (see section rds object) create_rds.R file containing script cleans process original data compatible dataset app (see section create_rds.R file) config.yaml file containing metadata dataset title, description, etc (see section config.yaml file)","code":""},{"path":"/articles/database.html","id":"tiledb-soma","dir":"Articles","previous_headings":"Structure of the database","what":"TileDB-SOMA","title":"Database","text":"datasets saved DATASET_NAME/tildeb/ format provided TileDB-SOMA. TileDB-SOMA R package developed store access single-cell data scale. Indeed, working Seurat object, whole object loaded, even though parts needed (genes going visualized example). case app, meant deployed server, loading full Seurat object heavy RAM usage. Thus decided use TileDB-SOMA. addition original TileDB-SOMA structure Seurat objects, app adds two following SOMACollections: markers comparison SOMACollections contains given number sub-SOMACollection (one markers identity/comparisons). Every sub-SOMACollection contains two SOMADataFrame: result, result Seurat’s FindAllMarkers (SOMACollections markers) Seurat’s FindMarkers (SOMACollections comparison) expression, result Seurat’s PseudobulkExpression","code":""},{"path":"/articles/database.html","id":"rds-object","dir":"Articles","previous_headings":"Structure of the database","what":"rds object","title":"Database","text":"rds object DATASET_NAME/object.rds one used create tiledb folder. also one user able download app. list following elements: seuratObj, Seurat object markers, list table FindAllMarkers PseudobulkExpression comparison, list table FindMarkers PseudobulkExpression See section Creating rds.","code":""},{"path":"/articles/database.html","id":"config-yaml-file","dir":"Articles","previous_headings":"Structure of the database","what":"config.yaml file","title":"Database","text":"DATASET_NAME/config.yaml used create summary datasets (see section Updating summary). must following structure, least following elements: See section Creating config.yaml.","code":"title: 'Study 1' description: 'Some description' doi: 'Some doi' date: DD/MM/YYYY"},{"path":"/articles/database.html","id":"create_rds-r-file","dir":"Articles","previous_headings":"Structure of the database","what":"create_rds.R file","title":"Database","text":"keep note every dataset created, strongly advised write script code run DATASET_NAME/create_rds.R.","code":""},{"path":"/articles/database.html","id":"adding-a-new-dataset","dir":"Articles","previous_headings":"","what":"Adding a new dataset","title":"Database","text":"adding pre-existing database, take look create_rds.R existing datasets better grasp can easily clean Seurat object, create necessary tables, convert TileDB-SOMA format, create config.yaml file. end, add dataset txt file summarizing datasets running singlecellviz::update_summary(). Save everything run create_rds.R file dataset sub-folder! explanation, read following sections.","code":""},{"path":"/articles/database.html","id":"cleaning-the-seurat-object","dir":"Articles","previous_headings":"Adding a new dataset","what":"Cleaning the Seurat object","title":"Database","text":"add new dataset need clean Seurat object, example: remove unnecessary columns @meta.data. check columns @meta.data expected format (generally numeric factors). remove unnecessary elements @reductions. can use Seurat::DietSeurat() facilitate process. remove unnecessary elements @assays, one end (typically RNA) one used explore tab (Seurat typically uses DimPlot, VlnPlot, DotPlot). can use Seurat::DietSeurat() facilitate process. remove scale.data @assays left end. usually heavy, useful visualization. end, used run PseudobulkExpression following steps (see next section Create markers comparison tables). general, think keeping want show app, lighten Seurat object.","code":""},{"path":"/articles/database.html","id":"create-markers-and-comparison-tables","dir":"Articles","previous_headings":"Adding a new dataset","what":"Create markers and comparison tables","title":"Database","text":"ease process creating tables, functions singlecellviz::compute_markers() singlecellviz::compute_comparison() developed. Check help function information examples. basically wrappers Seurat::FindAllMarkers(), Seurat::FindMarkers() Seurat::PseudobulkExpression().","code":""},{"path":"/articles/database.html","id":"creating-the-rds","dir":"Articles","previous_headings":"Adding a new dataset","what":"Creating the rds","title":"Database","text":"rds object structure described rds object. followed previous sections, create list save like : : x cleaned Seurat object y result singlecellviz::compute_markers() z result singlecellviz::compute_comparison()","code":"# Don't forget to remove `scale.data` from the Assays left in the Seurat object! rds_obj <- list(seuratObj = x,                  markers = y,                  comparison = z)  saveRDS(rds_obj, \"db/DATASET_NAME/object.rds\")"},{"path":"/articles/database.html","id":"creating-tiledb","dir":"Articles","previous_headings":"Adding a new dataset","what":"Creating tiledb","title":"Database","text":"TileDB-SOMA database can easily created function singlecellviz::populate_tiledb(). takes input dataset_dir, path folder dataset. gives output. look object.rds present dataset_dir, create TileDB-SOMA database folder called tildeb inside dataset_dir.","code":"populate_tiledb(dataset_dir = \"db/DATASET_NAME/\",                 force = TRUE)"},{"path":"/articles/database.html","id":"creating-config-yaml","dir":"Articles","previous_headings":"Adding a new dataset","what":"Creating config.yaml","title":"Database","text":"now create config.yaml dataset folder. can done easily like : Make sure list contains elements needed config.yaml (see section config.yaml file).","code":"# Create yaml yaml_content <- list(\"title\" = \"Study 1\",      \"description\" = \"Some <b>description<\/b>\", # HTML is accepted      \"doi\" = \"Some doi\",      \"date\" = \"DD/MM/YYYY\")  yaml::write_yaml(yaml_content, file = file.path(\"db/DATASET_NAME/\", \"config.yaml\"))"},{"path":"/articles/database.html","id":"updating-the-summary","dir":"Articles","previous_headings":"Adding a new dataset","what":"Updating the summary","title":"Database","text":"txt file summarizing datasets can easily updated code singlecellviz::update_summary(). file can used input run_app(). automatically searches available config.yaml, object.rdsand tiledb/ subfolder given db_dir (e.g. db/). subfolders config.yaml processed. summarizes mandatory elements (e.g. title, description…) config.yaml, well retrieves number cells, features samples. default, look equivalent RNA assay TileDB-SOMA database (exist take first assay available). retrieves number cells features. Moreover, look metadata column called orig.ident (exist take first available metadata column) assess number unique values column compute number samples. order datasets alphanumerical according name folder containing . Therefore, change order datasets, simply add desired position beginning folder name (e.g. folder zzz/ contains first dataset show, rename 1_zzz/). function singlecellviz::update_summary() can also used modify txt file summarizing datasets without modifying manually. example change description, first modify corresponding config.yaml re-run singlecellviz::update_summary(). recommended run singlecellviz::update_summary() instead changing file manually. First , prevent breaking file due manual error (example using tabs separator). Second, first test verify TileDB-SOMA database works every dataset, retrieves number cells, features samples available querying database.","code":""},{"path":"/articles/deployment.html","id":"introduction","dir":"Articles","previous_headings":"","what":"Introduction","title":"Deployment","text":"following gives insights deploy app local machine. deploy app, access local machine sudo rights (“superuser ”, .e. allows permitted user execute command superuser). Refer person charge name machine /department sudo rights. need connect server running following bash Terminal: working machine, run command require specific rights, add sudo just command, ask password allowing run command. Everything app uses needs server (datasets, R packages, scripts…).","code":"ssh yourusername@server-adress"},{"path":"/articles/deployment.html","id":"characteristics-of-the-server","dir":"Articles","previous_headings":"","what":"Characteristics of the server","title":"Deployment","text":"server machine Debian 12. : 8Go hard disk 4Go RAM 1 vCPU","code":""},{"path":"/articles/deployment.html","id":"shiny-server","dir":"Articles","previous_headings":"","what":"Shiny Server","title":"Deployment","text":"learn host manage app Shiny Server, check documentation: https://docs.posit.co/shiny-server/. Notably can: start/stop/restart server manually sudo systemctl start shiny-server/sudo systemctl stop shiny-server/sudo systemctl restart shiny-server check status shiny-server sudo systemctl status shiny-server reload configuration server without interruption sudo systemctl reload shiny-server change configuration file shiny-server.conf host various apps within server, redirect another locations etc…","code":""},{"path":"/articles/deployment.html","id":"add-user-authentication-to-the-app","dir":"Articles","previous_headings":"","what":"Add user authentication to the app","title":"Deployment","text":"basic user authentication implemented. option can set run_app(authr_file = \"path//users.txt\"). example file provided inst/extdata/users.txt. following structure: password stored clear. create hashed password, must use sodium::password_store() store results. example, passwords respectively pass1 pass2.","code":"user    password_hash   permissions  user1   $7$C6..../....lyPS/o.T5ONILgFaP.M7ZYktWRvJ6iHdcG3CiPjSiw9$xgztRbDuoYqiGrFqPCKypJ9VMRxx3SwNbeZyVNTrVr1   admin    user2   $7$C6..../....K7nP1S9ls1fRztMt5eFEx48bsIK98TMdm/IMjFSQcI9$auptOuD/EFWS/bJ3Ok2XdybMu.wKVjvj2l2GHFxIpe.   standard"},{"path":"/articles/deployment.html","id":"disclaimer","dir":"Articles","previous_headings":"Add user authentication to the app","what":"Disclaimer","title":"Deployment","text":"guarantee authentication procedure foolproof. expose sensitive content.","code":""},{"path":"/articles/deployment.html","id":"tracking-user-actions-and-session","dir":"Articles","previous_headings":"","what":"Tracking user actions and session","title":"Deployment","text":"app uses package shiny.telemetry track user actions session. actions (like changing dataset, looking certain genes etc…) tracked. default storage file user tracking log/telemetry.txt, can accessed follows:","code":"library(shiny.telemetry)  data_storage <- DataStorageLogFile$new(\"local_file.txt\") analytics_app(data_storage = data_storage)"},{"path":"/articles/deployment.html","id":"deploy-a-new-version-of-the-app","dir":"Articles","previous_headings":"","what":"Deploy a new version of the app","title":"Deployment","text":"practice, update app.","code":""},{"path":"/articles/deployment.html","id":"update-the-app-via-git","dir":"Articles","previous_headings":"Deploy a new version of the app","what":"Update the app via git","title":"Deployment","text":"development app can done locally. stable version available, pushed github repository (git push). version can retrieved server running git pull. tracked files updated (e.g. scripts R/, renv.lock…).","code":""},{"path":"/articles/deployment.html","id":"update-datasets-via-scp","dir":"Articles","previous_headings":"Deploy a new version of the app","what":"Update datasets via scp","title":"Deployment","text":"Heavy files tracked git. case datasets. Everything db/ updated/added manually using command scp. correctly add dataset app needs : row file dataset_summary.txt, notably states name location db/ dataset present said location db/","code":""},{"path":"/articles/deployment.html","id":"update-the-r-packages-via-renv","dir":"Articles","previous_headings":"Deploy a new version of the app","what":"Update the R packages via renv","title":"Deployment","text":"packages locally installed/updated, new (versions) R packages tracked running renv::snapshot(), saving updated renv.lock git. git pull run server, renv.lock file updated, new (versions) R packages yet downloaded server. Indeed, renv::restore() needs run successfully install new packages.","code":""},{"path":"/articles/deployment.html","id":"update-the-cache","dir":"Articles","previous_headings":"Deploy a new version of the app","what":"Update the cache","title":"Deployment","text":"deployed app makes use cache. update made, previously created cache must removed order prevent old results appear. , run server rm -r singlecellviz/cache/*.rds. first time open app test works new datasets, might take time ask database data, save data .rds cache file. re-try, faster data saved cache!","code":""},{"path":"/articles/deployment.html","id":"important-locations","dir":"Articles","previous_headings":"","what":"Important locations","title":"Deployment","text":"location important paths listed README.txt /srv/shiny-server/ directory. example, can find location : packages relative shiny packages relative app temp files cache files server config …","code":""},{"path":"/articles/deployment.html","id":"important-commands","dir":"Articles","previous_headings":"","what":"Important commands","title":"Deployment","text":"assumes know basics bash (cd, ls, cp, mv, mkdir, rm, cat, grep…), navigate paths. commands line might familiar , quite useful working machine.","code":""},{"path":"/articles/deployment.html","id":"general","dir":"Articles","previous_headings":"Important commands","what":"General","title":"Deployment","text":"sudo -act like sudo interactively, won’t add sudo every command, careful , greats powers comes great responsibility, rights modify delete important files without warning! come back normal user rights, run exit. history output history bash commands run user","code":""},{"path":"/articles/deployment.html","id":"file-handling","dir":"Articles","previous_headings":"Important commands","what":"File handling","title":"Deployment","text":"chmod change reading / writing / executing rights file folder (careful giving enough rights cache folder example!). chown change owner file folder. ln -s create symbolic link, order point file/folder already exists somewhere server, without copy (~ shortcut). scp copy file folder one location another (e.g. copy dataset hpc server shiny server!)","code":""},{"path":"/articles/deployment.html","id":"space-usage","dir":"Articles","previous_headings":"Important commands","what":"Space usage","title":"Deployment","text":"df -h output hard disk space used every partitions du -sh output hard disk space used files/directories","code":""},{"path":"/articles/deployment.html","id":"server-processes","dir":"Articles","previous_headings":"Important commands","what":"Server processes","title":"Deployment","text":"watch -d free -m observe periodically (every 2.0 seconds) memory swap usage server ps aux report snapshot current processes kill stop process (can use PID shown ps aux)","code":""},{"path":"/articles/development.html","id":"installation","dir":"Articles","previous_headings":"","what":"Installation","title":"Development","text":"can install development version SingleCellViz folder choice like : alternatively create new R project using GUI RStudio (clicking top-right R icon blue box), Project menu. Select “Version Control” way creating project, “Git”, finally type repository url: https://github.com/metzger-chambon/singlecellviz.git. either case, working inside R project. Check doc using R projects. important thing remember developing always root R project working directory (getwd() setwd()). Moreover, everything refer developing relative working directory.","code":"# in bash Terminal git clone git@github.com:metzger-chambon/singlecellviz.git"},{"path":"/articles/development.html","id":"r-environment","dir":"Articles","previous_headings":"Installation","what":"R environment","title":"Development","text":"first check version R (also written top renv.lock file). need install required packages dependencies. can easily done using renv R package, running following: Check renv documentation section Using renv information works. can also find necessary packages suggested packages DESCRIPTION file (respectively Imports field Suggests field). particular, suggested packages useful developing app.","code":"R.version.string #> [1] \"R version 4.4.1 (2024-06-14)\" renv::init()  # Select Answer 1: Restore the project from the lockfile."},{"path":"/articles/development.html","id":"running-the-app","dir":"Articles","previous_headings":"","what":"Running the app","title":"Development","text":"local version app, can test development version easily running code dev/run_dev.R. Notably, runs golem wrapper run_app(). default database run app one small dataset, corresponding subset pbmc3k dataset. want test datasets, check Database vignette. default dataset small, good practice also test app bigger dataset, make sure lagging scaling .","code":""},{"path":[]},{"path":"/articles/development.html","id":"generalities","dir":"Articles","previous_headings":"General structure","what":"Generalities","title":"Development","text":"app follows structure proposed R package golem associated book developing production-grade Shiny Apps. impacts structure app, means : app built around notion submodule utility functions app built R package (also check package development doc)","code":""},{"path":"/articles/development.html","id":"description-of-the-repository","dir":"Articles","previous_headings":"General structure","what":"Description of the repository","title":"Development","text":"general structure repository:","code":"├── app.R               # file with script to launch the app when deployed on the server (RShiny) ├── data                # folder containing datasets available in the package (R packages) ├── DESCRIPTION         # file with metadata (R packages) ├── dev                 # folder with scripts to run when developping the app (golem) ├── inst                # folder with arbitrary additional files (R packages)  ├── LICENSE.md          # LICENSE of the app (R package) ├── man                 # folder with documentation of the package (R packages) ├── NAMESPACE           # file with import/export to make package self-contained (R packages) ├── NEWS.md             # file to summarize updates made to the package (R packages) ├── _pkgdown.yml        # file with configuration of pkgdown (pkgdown) ├── presentation        # folder containing pdf presentation of the app ├── R                   # folder with all R code (R packages) ├── README.md           # README file (R packages) ├── renv                # folder with renv libraries (renv) ├── renv.lock           # file with name and version of packages (renv) ├── singlecellviz.Rproj # defines the R project of the app ├── tests               # folder containing automatic tests (testthat) └── vignettes           # folder containing documentation (R packages)"},{"path":"/articles/development.html","id":"description-of-r-scripts","dir":"Articles","previous_headings":"General structure","what":"Description of R/ scripts","title":"Development","text":"description scripts developed app: app_config.R contains function golem usage app_ui.R app_server.R contains respectively ui server main code app (module function called) mod_*.R contains independent code parts app, one tab app, features like choosing dataset downloading fct_*.R contains useful common functions example handling plots, tables, adding new datasets golem_utils_*.R contains general utility functions relative ui server handling R6.R contains definition DATA class (see section COMMON_DATA variable) run_app.R contains golem wrapper shinyApp() function run app.","code":""},{"path":"/articles/development.html","id":"create-a-new-module","dir":"Articles","previous_headings":"","what":"Create a new module","title":"Development","text":"create new module, run golem::add_module(name = \"your_new_module_name\", with_test = TRUE), create R scripts R/ folder, well tests tests folder (see golem doc information). can add module_*_ui() module_*_server() functions respectively app_ui.R app_server.R. Follow golem doc Shiny doc technical information develop modules. app, objects might need developing new module. following sections (studies variable, r variable COMMON_DATA variable) describe objects usage.","code":""},{"path":"/articles/development.html","id":"studies-variable","dir":"Articles","previous_headings":"Create a new module","what":"studies variable","title":"Development","text":"Modules might need access summary information datasets. studies data.frame object . structured like : can notice, similar structure file given input run_app() (described Database vignette). input file given run_app() read, saved variable studies. get access module just add line code module: information works, check golem doc.","code":"structure(list(title = \"small example\",                 output = \"extdata/small_example/tiledb\",                 rds = \"extdata/small_example/object.rds\",                 description = \"Dataset of Peripheral Blood Mononuclear Cells (PBMC) subsetted for Mk and DC cells. Freely available from 10X Genomics.\",                 doi = \"10.1038/ncomms14049\",                 date = \"16/01/2017\",                 nsamples = 1L,                 nfeatures = 100L,                 ncells = 46L),            class = \"data.frame\", row.names = c(NA, -1L)) studies <- get_golem_options(\"studies\")"},{"path":"/articles/development.html","id":"r-variable","dir":"Articles","previous_headings":"Create a new module","what":"r variable","title":"Development","text":"Modules might r object parameter. global reactiveValues (see Shiny golem doc). special list elements: tabs, name current tab use selected_study, title current selected study way share information across otherwise independent modules. particularity reactiveValues objects every time object gets updated, parts code dependent get recomputed. might need use: r$selected_study output function dependent dataset r$tabs want update output specific tab","code":""},{"path":"/articles/development.html","id":"common_data-variable","dir":"Articles","previous_headings":"Create a new module","what":"COMMON_DATA variable","title":"Development","text":"Modules might COMMON_DATA object parameter. R6 object (see R6 golem doc). contains public methods: output, uri current study title, title current study tabs_updated, list elements name name tab, value number (positional value) latest study updated active methods: experiment, returns opened SOMA groups, returns name available groups, equivalent Seurat Assays (e.g. RNA) arrays, returns name available arrays, equivalent Seurat slots (e.g. count) markers, returns name available markers tables comparison, returns name available comparison tables particularity R6 object modified inside function, modified value kept outside function called. develop module need data passed modules, without need reactivity, likely use COMMON_DATA object.","code":""},{"path":"/articles/development.html","id":"good-pratices","dir":"Articles","previous_headings":"","what":"Good pratices","title":"Development","text":"develop app efficiently, good practice need followed. presented following sections. explained details golem documentation, following sections describe major points keep mind developping.","code":""},{"path":[]},{"path":"/articles/development.html","id":"introduction","dir":"Articles","previous_headings":"Good pratices > Using git","what":"Introduction","title":"Development","text":"Git version control system used track changes made code time. helpful : revert/compare previous versions understand made changes (commit messages) manage conflicts various changes made code different github, git platform service create, store manage code. place can share code collaborate, well create, assign track issues, bugs feature requests.","code":""},{"path":"/articles/development.html","id":"usage-in-practice","dir":"Articles","previous_headings":"Good pratices > Using git","what":"Usage in practice","title":"Development","text":"can pull push new versions app github, appropriate user rights. locally make change file want apply changes github, need run commands (via Terminal, local folder app) following order: git add $FILE: add changes file git commit -m $MESSAGE: commit changes git push: push commits github (must rights repository) lot changes, good practice create new branch (git branch $BRANCHNAME), work (git checkout $BRANCHNAME). changes made working, can merge main new branch (git checkout master , git merge $BRANCHNAME). Read following good practice post git branches. Also, read related golem documentation git.","code":""},{"path":"/articles/development.html","id":"using-renv","dir":"Articles","previous_headings":"Good pratices","what":"Using renv","title":"Development","text":"renv R package create reproducible environments R projects. R project independent collection packages specific versions. Basically: check renv.lock --date, run renv::status() restore environment current renv.lock, run renv::restore() update , run renv::snapshot() Check renv golem doc information.","code":""},{"path":"/articles/development.html","id":"create-a-new-version-release","dir":"Articles","previous_headings":"","what":"Create a new version release","title":"Development","text":"’ve made changes app, released new version app? Follow (least) steps: run run_dev() one last time make sure whole app works expected, also bigger datasets document changes made code vignettes update DESCRIPTION file attachment::att_amend_desc() needed run devtools::check(), make sure don’t errors. One warning size files singlecellviz/inst/extdata/small_example/tiledb/ yet resolved. problem long package go CRAN. run pkgdown::build_site() update site new documentation, check looks ok Finally, git: add commit last changes follow best practice merging release branch run golem::set_golem_version(\"X.X.X\") new version numbers describe changes NEWS.md follow best practice merging master branch push new release github give tag (git tag -X.X.X -m \"version X.X.X\") push tag (git push origin tag) Golem doc provides things check checklist.","code":""},{"path":"/articles/usage.html","id":"introduction","dir":"Articles","previous_headings":"","what":"Introduction","title":"Usage","text":"SingleCellViz RShiny App aim quickly dynamically: visualize explore highlight download results scRNA-seq datasets. believe giving easy access RShiny App enable better visibility studies, maximize use already available datasets. SingleCellViz meant perform new analysis, guide already analyzed datasets, enabling easy exploration presenting important results. SingleCellViz structured different tabs described following chapters document. Except homepage tab, general, tabs dependent dataset selected. means structure one tab always , content (data), reactive choice study.","code":""},{"path":"/articles/usage.html","id":"homepage-tab","dir":"Articles","previous_headings":"","what":"Homepage tab","title":"Usage","text":"homepage presents aim app use .","code":""},{"path":"/articles/usage.html","id":"select-a-dataset","dir":"Articles","previous_headings":"","what":"Select a dataset","title":"Usage","text":"Selecting dataset pretty straight-forward. click drop-menu left, Select dataset:, click study interest. can change time, matter tab currently .","code":""},{"path":"/articles/usage.html","id":"general-information-tab","dir":"Articles","previous_headings":"","what":"General information tab","title":"Usage","text":"general information tab contains box : title description date doi (relevant) selected dataset. right, basics statistics highlighted: number cells number features number samples","code":""},{"path":"/articles/usage.html","id":"explore-tab","dir":"Articles","previous_headings":"","what":"Explore tab","title":"Usage","text":"SingleCellViz gets interesting! Two parameters common visualization tab: annotation: choose drop-menu, example type cell gene(s): type browse available list, validate clicking Validate selection button. gene looking appear type , means exist dataset. tab composed three subtabs various visualization: DimPlot VlnPlot DotPlot presented following paragraphs.","code":""},{"path":"/articles/usage.html","id":"dimplot","dir":"Articles","previous_headings":"Explore tab","what":"DimPlot","title":"Usage","text":"first subtab DimPlot. finally get view dataset, form dimension plot. type dimension plot parameter. Depending dataset, might able view UMAP, t-SNE, PCA plot. typical representation, dot represent cell. cells dimension plot right panel color annotation parameter common visualizations. cells dimension plot left panel color gene(s) expression. left panel contain many dimension plot(s) gene(s) selected. see plot left, first need select validate genes.","code":""},{"path":"/articles/usage.html","id":"vlnplot","dir":"Articles","previous_headings":"Explore tab","what":"VlnPlot","title":"Usage","text":"VlnPlot subtab presents violin plots better understand distribution gene expression across cells different annotations. many violin plots genes selected, expression grouped annotation common visualizations. can furthered split additional annotation, parameter specific visualization . see plot, first need select validate genes.","code":""},{"path":"/articles/usage.html","id":"dotplot","dir":"Articles","previous_headings":"Explore tab","what":"DotPlot","title":"Usage","text":"DotPlot subtab shows average expression scaled percent expressed genes (x-axis) across cells grouped annotation (y-axis) common visualizations. see plot, first need select validate genes.","code":""},{"path":"/articles/usage.html","id":"markers-tab","dir":"Articles","previous_headings":"","what":"Markers tab","title":"Usage","text":"markers tab presents pre-calculated results Seurat’s FindAllMarkers(). means markers annotations found relevant available. two elements tab: heatmap table Filtering table update heatmap automatically. heatmap represents average value gene cells (combination ) annotations. applicable, possibility split heatmap another (pre-chosen) annotation. plot interactive, browsing tile mouse show information, example annotation’s label(s) gene marker . gene considered marker label adjusted p-value less 0.05 label table result FindAllMarkers(). Finally, number genes (per annotation’s label) show heatmap parameter.","code":""},{"path":"/articles/usage.html","id":"differential-expression-tab","dir":"Articles","previous_headings":"","what":"Differential expression tab","title":"Usage","text":"differential expression tab presents pre-calculated results Seurat’s FindMarkers() specific comparisons. means comparisons found relevant available. structure comparison tab similar one markers tab, also contains two elements: heatmap table characteristics. number genes show heatmap also parameter.","code":""},{"path":"/articles/usage.html","id":"download-data","dir":"Articles","previous_headings":"","what":"Download data","title":"Usage","text":"Finally, Download button can download original Seurat object.","code":""},{"path":"/authors.html","id":null,"dir":"","previous_headings":"","what":"Authors","title":"Authors and Citation","text":"Valentine Gilbart. Maintainer, author.","code":""},{"path":"/authors.html","id":"citation","dir":"","previous_headings":"","what":"Citation","title":"Authors and Citation","text":"Gilbart V (2024). singlecellviz: SingleCellViz. R package version 1.1.0, https://metzger-chambon.github.io/singlecellviz/, https://github.com/metzger-chambon/singlecellviz.","code":"@Manual{,   title = {singlecellviz: SingleCellViz},   author = {Valentine Gilbart},   year = {2024},   note = {R package version 1.1.0,     https://metzger-chambon.github.io/singlecellviz/},   url = {https://github.com/metzger-chambon/singlecellviz}, }"},{"path":"/index.html","id":"singlecellviz","dir":"","previous_headings":"","what":"SingleCellViz","title":"SingleCellViz","text":"SingleCellViz RShiny app allowing easy exploration single cell datasets. can called function singlecellviz::run_app().","code":""},{"path":"/index.html","id":"installation","dir":"","previous_headings":"","what":"Installation","title":"SingleCellViz","text":"can install singlecellviz package via:","code":"remotes::install_github(\"metzger-chambon/singlecellviz\")"},{"path":[]},{"path":"/index.html","id":"basic","dir":"","previous_headings":"Running the app","what":"Basic","title":"SingleCellViz","text":"can run app like : default, app run small subset pbmc3k.","code":"singlecellviz::run_app()"},{"path":"/index.html","id":"with-your-data","dir":"","previous_headings":"Running the app","what":"With your data","title":"SingleCellViz","text":"database tiledb correct format app (see Database vignette info), can run app like :","code":"singlecellviz::run_app(studies = \"path/to/data_summary.txt\")"},{"path":"/index.html","id":"with-user-authentication","dir":"","previous_headings":"Running the app","what":"With user authentication","title":"SingleCellViz","text":"can try username user1 password pass1. See Database vignette create user authentication.","code":"singlecellviz::run_app(authr_file = system.file(\"extdata\", \"users.txt\",                                       package = \"singlecellviz\",                                       mustWork = TRUE))"},{"path":"/reference/compute_comparison.html","id":null,"dir":"Reference","previous_headings":"","what":"Compute comparison — compute_comparison","title":"Compute comparison — compute_comparison","text":"Compute comparison tables.","code":""},{"path":"/reference/compute_comparison.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Compute comparison — compute_comparison","text":"","code":"compute_comparison(seuratObj, opt)"},{"path":"/reference/compute_comparison.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Compute comparison — compute_comparison","text":"seuratObj Seurat object opt list sub-lists (one individual comparison compute), elements: 'name', character name appear app 'subset', list subset() parameters (except 'x', default Seurat object). 'Ident', character Idents Seurat object use Seurat::FindMarkers() 'FindMarkers', list Seurat::FindMarkers() parameters (except 'object', default Seurat object). name element list name parameters function, value value give parameters. 'PseudobulkExpression', list Seurat::PseudobulkExpression() parameters (except 'object'). name element list name parameters function, value value give parameters.","code":""},{"path":"/reference/compute_comparison.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Compute comparison — compute_comparison","text":"list sub-lists (one individual marker table compute). sub-list named 'name' given input, contains elements: 'table', output Seurat::FindMarkers() 'expression', output Seurat::PseudobulkExpression()","code":""},{"path":"/reference/compute_comparison.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Compute comparison — compute_comparison","text":"","code":"if (FALSE) { # \\dontrun{ data(\"small_seurat\") opt <- list( list(   name = \"First comparison\",   subset = list(     subset = substitute(CellType %in% c(\"DC\"))   ),   Ident = \"seurat_clusters\",   FindMarkers = list(ident.1 = 1),   PseudobulkExpression = list(assays = \"RNA\",                              slot = \"scale.data\",                              group.by = c(\"seurat_clusters\", \"CellType\")   ) ) #, #list( #   name = \"Second comparison\", #   ... #) ) compute_comparison(small_seurat, opt) } # }"},{"path":"/reference/compute_markers.html","id":null,"dir":"Reference","previous_headings":"","what":"Compute marker — compute_markers","title":"Compute marker — compute_markers","text":"Compute several marker table expression dataset. aim function facilitate creating marker object correct format, order add database.","code":""},{"path":"/reference/compute_markers.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Compute marker — compute_markers","text":"","code":"compute_markers(seuratObj, opt)"},{"path":"/reference/compute_markers.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Compute marker — compute_markers","text":"seuratObj Seurat object opt list sub-lists (one individual marker table compute), elements: 'name', character name appear app 'Ident', character Idents Seurat object use Seurat::FindAllMarkers() 'FindAllMarkers', list Seurat::FindAllMarkers() parameters (except 'object', default Seurat object). name element list name parameters function, value value give parameters. 'PseudobulkExpression', list Seurat::PseudobulkExpression() parameters (except 'object', default Seurat object). name element list name parameters function, value value give parameters.","code":""},{"path":"/reference/compute_markers.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Compute marker — compute_markers","text":"list sub-lists (one individual marker table compute). sub-list named 'name' given input, contains elements: 'table', output Seurat::FindAllMarkers() 'expression', output Seurat::PseudobulkExpression()","code":""},{"path":"/reference/compute_markers.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Compute marker — compute_markers","text":"","code":"if (FALSE) { # \\dontrun{ data(\"small_seurat\") opt <- list(  list(    name = \"CellType markers\",    Ident = \"CellType\",    FindAllMarkers = list(only.pos = TRUE,                         min.pct = 0.25,                         logfc.threshold = 0.5),    PseudobulkExpression = list(assay = \"RNA\",                              slot = \"scale.data\",                              group.by = c(\"CellType\", \"orig.ident\")                          )  ) #,  # list(  #  name = \"seurat_clusters markers\",  #  #...  # ) ) compute_markers(small_seurat, opt) } # }"},{"path":"/reference/populate_tiledb.html","id":null,"dir":"Reference","previous_headings":"","what":"Populate TileDB-SOMA with a new dataset. — populate_tiledb","title":"Populate TileDB-SOMA with a new dataset. — populate_tiledb","text":"Populate TileDB-SOMA new dataset.","code":""},{"path":"/reference/populate_tiledb.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Populate TileDB-SOMA with a new dataset. — populate_tiledb","text":"","code":"populate_tiledb(dataset_dir, force = F)"},{"path":"/reference/populate_tiledb.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Populate TileDB-SOMA with a new dataset. — populate_tiledb","text":"dataset_dir character, corresponding path folder dataset. object.rds file expected, tiledb folder created. force boolean, tiledb folder already exists, removed?","code":""},{"path":"/reference/populate_tiledb.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Populate TileDB-SOMA with a new dataset. — populate_tiledb","text":"None. creates TileDB-SOMA specified folder.","code":""},{"path":"/reference/run_app.html","id":null,"dir":"Reference","previous_headings":"","what":"Run the Shiny Application — run_app","title":"Run the Shiny Application — run_app","text":"Run Shiny Application","code":""},{"path":"/reference/run_app.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Run the Shiny Application — run_app","text":"","code":"run_app(   onStart = NULL,   options = list(),   enableBookmarking = \"url\",   uiPattern = \"/\",   studies = NULL,   cache_path = NULL,   log_path = \"log\",   authr_file = NULL,   ... )"},{"path":"/reference/run_app.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Run the Shiny Application — run_app","text":"onStart function called app actually run. needed shinyAppObj, since shinyAppDir case, global.R file can used purpose. options Named options passed runApp call (can following: \"port\", \"launch.browser\", \"host\", \"quiet\", \"display.mode\" \"test.mode\"). can also specify width height parameters provide hint embedding environment ideal height/width app. enableBookmarking Can one \"url\", \"server\", \"disable\". default value, NULL, respect setting previous calls  enableBookmarking(). See enableBookmarking() information bookmarking app. uiPattern regular expression applied GET request determine whether ui used handle request. Note entire request path must match regular expression order match considered successful. studies file path summary available studies. file tab separated table, headers: title  output  rds  description  doi  date  nsamples  nfeatures  ncells. default file read contains information small subset pbmc3k present package. Check vignette(\"database\", package = \"singlecellviz\") information. cache_path path cache directory use. folder already exists, make sure use read write access. log_path path log directory, telemetry.txt file created. folder file already exists, make sure use read write access. authr_file path authr .txt file, columns user, password_hash, permissions available. folder file already exists, make sure use read write access. ... arguments pass golem_opts. See `?golem::get_golem_options` details.","code":""},{"path":"/reference/small_seurat.html","id":null,"dir":"Reference","previous_headings":"","what":"A subset of data from pbmc3k — small_seurat","title":"A subset of data from pbmc3k — small_seurat","text":"subset data pbmc3k","code":""},{"path":"/reference/small_seurat.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"A subset of data from pbmc3k — small_seurat","text":"","code":"small_seurat"},{"path":"/reference/small_seurat.html","id":"format","dir":"Reference","previous_headings":"","what":"Format","title":"A subset of data from pbmc3k — small_seurat","text":"## `small_seurat` Seurat object","code":""},{"path":"/reference/small_seurat.html","id":"source","dir":"Reference","previous_headings":"","what":"Source","title":"A subset of data from pbmc3k — small_seurat","text":"https://github.com/satijalab/seurat-data","code":""},{"path":"/reference/update_summary.html","id":null,"dir":"Reference","previous_headings":"","what":"Update dataset summary — update_summary","title":"Update dataset summary — update_summary","text":"Creates txt file summarizing information available datasets automatically searching config.yaml, object.rds tiledb/ subfolder specified db_dir. order datasets alphanumerical according name folder containing . Therefore, change order datasets, simply add desired position folder name (e.g. folder zzz/ contains first dataset show, rename 1_zzz/).","code":""},{"path":"/reference/update_summary.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Update dataset summary — update_summary","text":"","code":"update_summary(db_dir, output_file, config_filename = \"config.yaml\")"},{"path":"/reference/update_summary.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Update dataset summary — update_summary","text":"db_dir character, corresponding path database (containing subfolders) output_file character, corresponding filename give txt. automatically db_dir. config_filename character, corresponding name yaml configuration files look (default  \"config.yaml\")","code":""},{"path":"/reference/update_summary.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Update dataset summary — update_summary","text":"None. creates txt file.","code":""},{"path":"/reference/update_summary.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Update dataset summary — update_summary","text":"","code":"if (FALSE) { # \\dontrun{ update_summary(\"db/\", \"dataset_summary.txt\") } # }"},{"path":"/news/index.html","id":"singlecellviz-110","dir":"Changelog","previous_headings":"","what":"SingleCellViz 1.1.0","title":"SingleCellViz 1.1.0","text":"2024-08-09","code":""},{"path":"/news/index.html","id":"implement-1-1-0","dir":"Changelog","previous_headings":"","what":"Implement","title":"SingleCellViz 1.1.0","text":"Basic user / password authorization shinyauthr Track user activity shiny.telemetry","code":""},{"path":"/news/index.html","id":"other-1-1-0","dir":"Changelog","previous_headings":"","what":"Other","title":"SingleCellViz 1.1.0","text":"Modify UI information tab allow HTML text r$selected_study now title dataset","code":""},{"path":"/news/index.html","id":"debug-1-1-0","dir":"Changelog","previous_headings":"","what":"Debug","title":"SingleCellViz 1.1.0","text":"Use PseudobulkExpression instead AggregateExpression heatmaps Fix update_summary() look folders config.yaml file","code":""},{"path":"/news/index.html","id":"singlecellviz-101","dir":"Changelog","previous_headings":"","what":"SingleCellViz 1.0.1","title":"SingleCellViz 1.0.1","text":"2024-06-28","code":""},{"path":"/news/index.html","id":"implement-1-0-1","dir":"Changelog","previous_headings":"","what":"Implement","title":"SingleCellViz 1.0.1","text":"cache_path parameter run_app()","code":""},{"path":"/news/index.html","id":"debug-1-0-1","dir":"Changelog","previous_headings":"","what":"Debug","title":"SingleCellViz 1.0.1","text":"Remove hard coded ordering datasets update_summary() Change parameter populate_tiledb() yaml dataset_dir Better handle cache keys","code":""},{"path":"/news/index.html","id":"singlecellviz-100","dir":"Changelog","previous_headings":"","what":"SingleCellViz 1.0.0","title":"SingleCellViz 1.0.0","text":"2024-06-20 First public release","code":""}]
